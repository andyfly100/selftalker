<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Start Your Transformation - SelfTalk</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6928529142816465" crossorigin="anonymous"></script>
    <link rel="alternate" hreflang="en" href="/start/en/">
    <link rel="alternate" hreflang="zh" href="/start/zh/">
    <link rel="alternate" hreflang="x-default" href="/start/">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #10B981;
            --secondary: #FEF3C7;
            --accent: #FB923C;
            --dark: #1F2937;
            --gray: #6B7280;
            --light-gray: #F3F4F6;
            --white: #FFFFFF;
            --background: #FAFAFA;
            --success: #059669;
            --warning: #D97706;
            --error: #DC2626;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            color: var(--dark);
            background: var(--background);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* è¯­è¨€åˆ‡æ¢å™¨ */
        .language-switcher {
            position: fixed;
            top: 120px;
            right: 20px;
            left: auto;
            z-index: 1001;
            display: flex;
            gap: 0.5rem;
            background: var(--white);
            border-radius: 25px;
            padding: 0.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            animation: slideDown 0.5s ease-out 0.3s both;
            transform: none;
        }

        @media (max-width: 768px) {
            .language-switcher {
                top: auto;
                right: 20px;
                left: auto;
                bottom: 20px;
                transform: none;
            }
        }

        .lang-btn {
            padding: 0.5rem 1rem;
            border: none;
            background: transparent;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .lang-btn.active {
            background: var(--primary);
            color: white;
        }

        .lang-btn:not(.active) {
            color: var(--gray);
        }

        .lang-btn:not(.active):hover {
            background: var(--light-gray);
            color: var(--dark);
        }

        /* å¯¼èˆªæ  */
        nav {
            background: var(--white);
            padding: 1rem 2rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            animation: slideDown 0.5s ease-out;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo::before {
            content: 'ğŸ’¬';
            font-size: 1.8rem;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
            padding-right: 120px;
        }

        .nav-links a {
            color: var(--gray);
            text-decoration: none;
            transition: color 0.3s;
            font-size: 1rem;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--primary);
        }

        .nav-links .cta-button,
        .nav-links .cta-button:hover,
        .nav-links .cta-button.active {
            color: var(--white) !important;
        }

        .cta-button {
            background: var(--primary);
            color: white;
            padding: 0.6rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            transition: all 0.3s;
            display: inline-block;
            font-weight: 500;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .cta-button:hover {
            background: #0EA570;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(16, 185, 129, 0.3);
        }

        .cta-button.secondary {
            background: var(--light-gray);
            color: var(--dark);
        }

        .cta-button.secondary:hover {
            background: var(--gray);
            color: var(--white);
        }

        .cta-button[disabled] {
            opacity: 0.55;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }

        /* ä¸»è¦å†…å®¹åŒº */
        main {
            margin-top: 70px;
        }

        /* é¡µé¢æ ‡é¢˜ */
        .page-header {
            padding: 3rem 2rem;
            text-align: center;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, rgba(251, 146, 60, 0.05) 100%);
        }

        .header-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            padding: 0.35rem 0.9rem;
            border-radius: 999px;
            background: rgba(16, 185, 129, 0.12);
            color: var(--primary);
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .page-header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .page-header .subtitle {
            font-size: 1.2rem;
            color: var(--gray);
            max-width: 600px;
            margin: 0 auto;
        }

        .header-highlights {
            margin: 2rem auto 0;
            max-width: 720px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1rem;
            color: var(--dark);
        }

        .header-highlight {
            background: var(--white);
            border-radius: 16px;
            padding: 1rem 1.2rem;
            box-shadow: 0 8px 24px rgba(15, 118, 110, 0.12);
        }

        .header-highlight strong {
            display: block;
            margin-bottom: 0.4rem;
            color: var(--primary);
        }

        /* æ­¥éª¤é€‰æ‹©åŒºåŸŸ */
        .habit-selection {
            padding: 4rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 2rem;
            text-align: center;
            margin-bottom: 3rem;
            color: var(--dark);
        }

        .habit-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .habit-category {
            background: var(--white);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            transition: all 0.3s;
            cursor: pointer;
            border: 3px solid transparent;
        }

        .habit-category:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .habit-category.selected {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, rgba(251, 146, 60, 0.05) 100%);
        }

        .habit-category.hidden-by-pathway {
            display: none;
        }

        .category-icon {
            font-size: 3rem;
            text-align: center;
            margin-bottom: 1rem;
        }

        .category-title {
            font-size: 1.3rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 1rem;
            color: var(--dark);
        }

        .category-description {
            color: var(--gray);
            text-align: center;
            line-height: 1.6;
        }

        .habit-options {
            display: none;
            margin-top: 1.5rem;
            border-top: 1px solid var(--light-gray);
            padding-top: 1.5rem;
        }

        .habit-category.selected .habit-options {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }

        .habit-option {
            display: flex;
            align-items: center;
            padding: 0.8rem;
            margin: 0.5rem 0;
            background: var(--background);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .habit-option:hover {
            background: var(--primary);
            color: white;
        }

        .habit-option input {
            margin-right: 0.8rem;
        }

        .section-subtitle {
            font-size: 1rem;
            text-align: center;
            color: var(--gray);
            max-width: 720px;
            margin: -1rem auto 2.5rem;
            line-height: 1.6;
        }

        .step-view {
            display: none;
            padding: 2rem 2rem 3rem;
        }

        .step-view.active {
            display: block;
            animation: fadeIn 0.4s ease-out;
        }

        .step-intro {
            max-width: 900px;
            margin: 0 auto 2rem;
            text-align: center;
        }

        .lead-paragraph {
            font-size: 1.1rem;
            color: var(--gray);
            line-height: 1.8;
            margin-bottom: 2rem;
        }

        .pathway-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .pathway-card {
            border: 2px solid transparent;
            border-radius: 16px;
            background: var(--white);
            padding: 1.6rem;
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .pathway-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 18px 35px rgba(0,0,0,0.14);
        }

        .pathway-card.selected {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.08) 0%, rgba(251, 146, 60, 0.08) 100%);
        }

        .pathway-card:focus-visible {
            outline: 3px solid rgba(16, 185, 129, 0.5);
            outline-offset: 3px;
        }

        .pathway-icon {
            font-size: 2rem;
        }

        .pathway-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--dark);
        }

        .pathway-description {
            color: var(--gray);
            line-height: 1.6;
        }

        .muted {
            color: var(--gray);
            font-size: 0.95rem;
        }

        .plan-wrapper {
            max-width: 960px;
            margin: 0 auto;
            background: var(--white);
            padding: 3rem 2.5rem;
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.08);
            border: 1px solid var(--light-gray);
        }

        .plan-wrapper .section-title {
            text-align: left;
            margin-bottom: 1rem;
        }

        .plan-wrapper .section-subtitle {
            text-align: left;
            margin: 0 0 2rem;
        }

        .plan-recorder {
            margin-bottom: 2.5rem;
            padding: 1.75rem;
            border-radius: 18px;
            border: 1px solid rgba(16, 185, 129, 0.18);
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.08) 0%, rgba(251, 146, 60, 0.08) 100%);
            display: grid;
            gap: 1.2rem;
            transition: opacity 0.3s ease;
        }

        .plan-recorder.is-disabled {
            opacity: 0.55;
        }

        .plan-recorder.is-unsupported {
            opacity: 0.7;
        }

        .plan-recorder-header h3 {
            margin: 0;
            font-size: 1.2rem;
            color: var(--dark);
        }

        .plan-recorder-header p {
            margin: 0.35rem 0 0;
            color: var(--gray);
            line-height: 1.6;
        }

        .plan-recorder-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            align-items: center;
        }

        .plan-recorder-controls .cta-button {
            min-width: 140px;
        }

        .plan-recorder-status {
            margin: 0;
            color: var(--dark);
            font-weight: 500;
        }

        .plan-recorder audio {
            width: 100%;
        }

        .plan-progress {
            margin-bottom: 2rem;
        }

        .plan-progress__label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 0.6rem;
        }

        .plan-progress__bar {
            width: 100%;
            height: 12px;
            background: var(--light-gray);
            border-radius: 999px;
            overflow: hidden;
        }

        .plan-progress__fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: inherit;
            transition: width 0.4s ease;
        }

        .plan-reminders {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: var(--background);
            border-radius: 14px;
            border: 1px solid var(--light-gray);
        }

        .reminder-toggle {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 600;
            color: var(--dark);
        }

        .reminder-toggle input {
            width: 18px;
            height: 18px;
        }

        .plan-days {
            margin-top: 2rem;
        }

        .plan-empty {
            padding: 2rem;
            text-align: center;
            background: var(--background);
            border-radius: 16px;
            border: 1px dashed var(--light-gray);
            color: var(--gray);
        }

        .plan-day-list {
            list-style: none;
            margin: 0;
            padding: 0;
            display: grid;
            gap: 1.5rem;
        }

        .plan-day-card {
            background: var(--white);
            border-radius: 18px;
            border: 1px solid var(--light-gray);
            box-shadow: 0 6px 20px rgba(0,0,0,0.06);
            padding: 1.5rem 1.75rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .plan-day-card.completed {
            border-color: var(--primary);
            box-shadow: 0 10px 24px rgba(16, 185, 129, 0.12);
        }

        .plan-day-card.is-collapsed .plan-day-body,
        .plan-day-card.is-collapsed .plan-day-prompts,
        .plan-day-card.is-collapsed .plan-day-tags,
        .plan-day-card.is-collapsed .plan-day-trackers {
            display: none;
        }

        .plan-day-card .plan-day-brief {
            display: none;
            color: var(--gray);
            margin: 0;
            font-size: 0.95rem;
        }

        .plan-day-card.is-collapsed .plan-day-brief {
            display: block;
        }

        .plan-day-toggle {
            margin-left: auto;
            background: none;
            border: none;
            color: var(--primary);
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
            font-size: 0.95rem;
        }

        .plan-day-toggle:hover {
            text-decoration: underline;
        }

        .plan-day-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            gap: 1rem;
        }

        .plan-day-header-main {
            display: inline-flex;
            flex-wrap: wrap;
            align-items: baseline;
            gap: 0.6rem;
        }

        .plan-day-number {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary);
        }

        .plan-day-phase {
            font-size: 0.95rem;
            color: var(--gray);
        }

        .plan-day-body {
            display: grid;
            gap: 0.8rem;
            line-height: 1.6;
            color: var(--dark);
        }

        .plan-day-body strong {
            color: var(--dark);
        }

        .plan-day-prompts {
            display: grid;
            gap: 0.4rem;
            padding: 0.75rem 1rem;
            background: var(--background);
            border-radius: 12px;
            border: 1px solid var(--light-gray);
        }

        .plan-day-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.4rem;
        }

        .tag-chip {
            display: inline-flex;
            align-items: center;
            padding: 0.2rem 0.6rem;
            border-radius: 999px;
            background: rgba(16, 185, 129, 0.12);
            color: var(--primary);
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.03em;
            text-transform: uppercase;
        }

        .plan-day-trackers {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: center;
            padding-top: 0.6rem;
            border-top: 1px solid var(--light-gray);
        }

        .tracker-checkbox {
            display: inline-flex;
            align-items: center;
            gap: 0.6rem;
            font-weight: 600;
            color: var(--dark);
        }

        .tracker-checkbox input {
            width: 18px;
            height: 18px;
        }

        .tracker-counter {
            display: inline-flex;
            align-items: center;
            gap: 0.6rem;
            color: var(--gray);
        }

        .tracker-counter input {
            width: 72px;
            padding: 0.3rem 0.4rem;
            border: 1px solid var(--light-gray);
            border-radius: 8px;
        }

        .plan-learning {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--light-gray);
        }

        .plan-learning h3 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .learning-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1rem;
        }

        .learning-card {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            padding: 1.25rem;
            border-radius: 14px;
            border: 1px solid var(--light-gray);
            background: var(--background);
            color: var(--dark);
            text-decoration: none;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .learning-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.09);
        }

        .learning-card strong {
            font-size: 1rem;
        }

        .learning-card span {
            color: var(--gray);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        /* ä¸ªæ€§åŒ–è®¾ç½® */
        .personalization {
            padding: 4rem 2rem;
            background: var(--white);
        }

        .personalization-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 2rem;
        }

        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 0.8rem;
            color: var(--dark);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 1rem;
            border: 2px solid var(--light-gray);
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .reminder-times {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .time-slot {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem;
            background: var(--background);
            border-radius: 10px;
        }

        /* è¿›åº¦æŒ‡ç¤ºå™¨ */
        .progress-indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            background: var(--white);
        }

        .progress-step {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--light-gray);
            color: var(--gray);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s;
        }

        .step-circle.active {
            background: var(--primary);
            color: white;
        }

        .step-circle.completed {
            background: var(--success);
            color: white;
        }

        .step-label {
            color: var(--gray);
            font-weight: 500;
        }

        .step-label.active {
            color: var(--primary);
            font-weight: bold;
        }

        .step-connector {
            width: 50px;
            height: 2px;
            background: var(--light-gray);
            margin: 0 1rem;
        }

        .step-connector.completed {
            background: var(--success);
        }

        /* è¡ŒåŠ¨æŒ‰é’®åŒºåŸŸ */
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            padding: 2rem;
            background: var(--background);
        }

        /* åŠ¨ç”» */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100%);
            }
            to {
                transform: translateY(0);
            }
        }

        /* éšè—éå½“å‰è¯­è¨€å†…å®¹ */
        .content[data-lang]:not(.active) {
            display: none;
        }

        .debug-plan-preview {
            max-width: 900px;
            margin: 3rem auto;
            background: var(--white);
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 8px 30px rgba(0,0,0,0.08);
            border: 1px solid var(--light-gray);
        }

        .debug-plan-preview.hidden {
            display: none;
        }

        .debug-plan-preview h2 {
            font-size: 1.6rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }

        .debug-plan-preview ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: grid;
            gap: 1rem;
        }

        .debug-plan-preview li {
            background: var(--light-gray);
            border-radius: 12px;
            padding: 1rem 1.2rem;
        }

        .debug-plan-preview li strong {
            display: block;
            font-size: 1rem;
            color: var(--dark);
            margin-bottom: 0.4rem;
        }

        .template-badge {
            display: inline-block;
            margin-left: 0.5rem;
            padding: 0.2rem 0.6rem;
            border-radius: 999px;
            background: var(--light-gray);
            color: var(--gray);
            font-size: 0.75rem;
            font-weight: 600;
            line-height: 1;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .language-switcher {
                top: 10px;
                right: 10px;
                padding: 0.3rem;
            }

            .nav-links {
                display: none;
            }

            .page-header h1 {
                font-size: 2rem;
            }

            .header-highlights {
                grid-template-columns: 1fr;
            }

            .habit-categories {
                grid-template-columns: 1fr;
            }

            .step-view {
                padding: 1.5rem 1rem 2.5rem;
            }

            .pathway-grid {
                grid-template-columns: 1fr;
            }

            .plan-wrapper {
                padding: 2rem 1.5rem;
            }

            .action-buttons {
                flex-direction: column;
                align-items: center;
            }

            .action-buttons .cta-button {
                width: 100%;
                max-width: 300px;
            }

            .plan-day-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .plan-day-trackers {
                flex-direction: column;
                align-items: flex-start;
            }

            .tracker-counter input {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- è¯­è¨€åˆ‡æ¢å™¨ -->
    <div class="language-switcher">
        <button class="lang-btn" onclick="switchLanguage('zh')" data-lang="zh">ä¸­æ–‡</button>
        <button class="lang-btn active" onclick="switchLanguage('en')" data-lang="en">English</button>
    </div>

    <!-- å¯¼èˆªæ  -->
    <nav>
        <div class="nav-container">
            <a href="/" class="logo" data-text-zh="è‡ªæˆ‘å¯¹è¯" data-text-en="SelfTalk">SelfTalk</a>
            <div class="nav-links">
                <a href="/" data-text-zh="é¦–é¡µ" data-text-en="Home">Home</a>
                <a href="/#how" data-text-zh="å¦‚ä½•è¿ä½œ" data-text-en="How It Works">How It Works</a>
                <a href="/#stories" data-text-zh="æˆåŠŸæ•…äº‹" data-text-en="Success Stories">Success Stories</a>
                <a href="/#faq" data-text-zh="å¸¸è§é—®é¢˜" data-text-en="FAQ">FAQ</a>
                <a href="/insights" data-text-zh="æ–‡ç« " data-text-en="Articles">Articles</a>
                <a href="/about" data-text-zh="å…³äºæˆ‘" data-text-en="About Me">About Me</a>
                <a href="/start" class="cta-button active" data-text-zh="å¼€å§‹æ”¹å˜" data-text-en="Start Now">Start Now</a>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦å†…å®¹ -->
    <main>
        <!-- ä¸­æ–‡å†…å®¹ -->
        <div class="content" data-lang="zh">
            <section class="page-header">
                <span class="header-badge">â± 3 åˆ†é’Ÿå®Œæˆè®¾ç½® Â· å½“å¤©æ‹¿åˆ° Day 1</span>
                <h1>å¼€å¯ä½ çš„ 21 å¤©è‡ªæˆ‘å¯¹è¯è®¡åˆ’</h1>
                <p class="subtitle">é€‰å®šä¹ æƒ¯ã€å†™æ˜åŠ¨æœºã€è‡ªå®šä¹‰æé†’ â€”â€” ç«‹åˆ»ç”Ÿæˆä½ çš„æ¯æ—¥å¯¹è¯ã€æ›¿ä»£åŠ¨ä½œä¸å¤ç›˜æç¤ºã€‚</p>
                <div class="header-highlights">
                    <div class="header-highlight">
                        <strong>å³æ—¶ Day 1</strong>
                        æäº¤åé©¬ä¸Šè·å¾—ç¬¬ä¸€å¤©çš„å¯¹è¯ä¸è¡ŒåŠ¨æŒ‡å—ï¼Œå¯ä¸‹è½½æˆ–å¤åˆ¶åˆ°è‡ªå·±çš„ç¬”è®°å·¥å…·ã€‚
                    </div>
                    <div class="header-highlight">
                        <strong>ä¸­æ–‡ / è‹±æ–‡åŒè¯­</strong>
                        è„šæœ¬åŒæ­¥æä¾›åŒè¯­ç‰ˆæœ¬ï¼Œæ–¹ä¾¿åœ¨ä»»æ„è®¾å¤‡æˆ–åˆ†äº«ç»™èº«è¾¹äººæ—¶ä½¿ç”¨ã€‚
                    </div>
                    <div class="header-highlight">
                        <strong>é‡åˆ°é˜»ç¢å¯å†™ä¿¡</strong>
                        æœ‰ç–‘é—®æˆ–å¡ä½ï¼Œç›´æ¥é‚®ä»¶ selftalkernow@outlook.comï¼Œæˆ‘ä¼šä¸ä½ ä¸€èµ·è°ƒæ•´ä¸‹ä¸€æ­¥ã€‚
                    </div>
                </div>
            </section>

            <section class="progress-indicator" data-role="stepper">
                <div class="progress-step">
                    <div class="step-circle active" data-step-circle="1">1</div>
                    <div class="step-label active" data-step-label="1">é€‰æ‹©ä¹ æƒ¯</div>
                    <div class="step-connector"></div>
                    <div class="step-circle" data-step-circle="2">2</div>
                    <div class="step-label" data-step-label="2">ä¸ªæ€§åŒ–è®¾ç½®</div>
                    <div class="step-connector"></div>
                    <div class="step-circle" data-step-circle="3">3</div>
                    <div class="step-label" data-step-label="3">å¼€å§‹è·µè¡Œ</div>
                </div>
            </section>

            <section class="step-view active" data-step="1">
                <div class="step-intro">
                    <p class="lead-paragraph">å…ˆé€‰ä¸€ä¸ªä½ æœ€æƒ³çªç ´çš„æ–¹å‘ï¼Œè‡ªæˆ‘å¯¹è¯ä¼šä¸ºä½ ç”Ÿæˆ 21 å¤©é€æ—¥ç»ƒä¹ ã€‚éšæ—¶å¯åˆ‡æ¢è¯­è¨€æˆ–è¿”å›é‡æ–°é€‰æ‹©ã€‚</p>
                    <div class="pathway-grid">
                        <button type="button" class="pathway-card selected" data-pathway="break-bad-habit">
                            <span class="pathway-icon">ğŸš«</span>
                            <span class="pathway-title">æˆ’é™¤åä¹ æƒ¯</span>
                            <span class="pathway-description">æˆ’çƒŸã€æˆ’é…’ã€å‡å°‘åˆ·æ‰‹æœºï¼Œè¿œç¦»æ‹–å»¶</span>
                        </button>
                        <button type="button" class="pathway-card" data-pathway="build-good-habit">
                            <span class="pathway-icon">âœ¨</span>
                            <span class="pathway-title">å…»æˆå¥½ä¹ æƒ¯</span>
                            <span class="pathway-description">æ—©èµ·ã€è¿åŠ¨ã€é˜…è¯»ã€å†¥æƒ³ï¼Œå»ºç«‹æŒç»­èŠ‚å¥</span>
                        </button>
                    </div>
                </div>

                <section class="habit-selection">
                    <h2 class="section-title">é€‰æ‹©ä½ æƒ³ä¸“æ³¨çš„ä¹ æƒ¯</h2>
                    <p class="section-subtitle">é€‰ä¸­åä¼šè‡ªåŠ¨åŠ è½½å¯¹åº”æ¨¡æ¿ï¼Œæš‚æœªä¸Šçº¿çš„ä¹ æƒ¯æˆ‘ä»¬ä¼šæ ‡è®°ä¸º Coming soon æˆ– Customã€‚</p>
                    <div class="habit-categories">
                        <div class="habit-category selected" data-category-id="break-bad-habit" data-pathway="break-bad-habit" onclick="selectCategory(this)">
                            <div class="category-icon">ğŸš«</div>
                            <h3 class="category-title">æˆ’é™¤ä¸è‰¯ä¹ æƒ¯</h3>
                            <p class="category-description">æˆ’çƒŸã€æˆ’é…’ã€å‡å°‘åˆ·æ‰‹æœºã€æ”¹æ‰æ‹–å»¶ç—‡ç­‰</p>
                            <div class="habit-options">
                                <div class="habit-option">
                                    <input type="radio" name="habit" value="quit-smoking" id="quit-smoking" data-script="quit-smoking" checked>
                                    <label for="quit-smoking">æˆ’çƒŸ</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit" value="quit-drinking" id="quit-drinking">
                                    <label for="quit-drinking">æˆ’é…’/å‡å°‘é¥®é…’</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit" value="reduce-phone" id="reduce-phone">
                                    <label for="reduce-phone">å‡å°‘ç©æ‰‹æœº</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit" value="stop-procrastination" id="stop-procrastination">
                                    <label for="stop-procrastination">æ”¹æ‰æ‹–å»¶ç—‡</label>
                                </div>
                            </div>
                        </div>

                        <div class="habit-category" data-category-id="build-good-habit" data-pathway="build-good-habit" onclick="selectCategory(this)">
                            <div class="category-icon">âœ¨</div>
                            <h3 class="category-title">åŸ¹å…»å¥½ä¹ æƒ¯</h3>
                            <p class="category-description">æ—©èµ·ã€è¿åŠ¨ã€è¯»ä¹¦ã€å†¥æƒ³ç­‰ç§¯æä¹ æƒ¯</p>
                            <div class="habit-options">
                                <div class="habit-option">
                                    <input type="radio" name="habit" value="early-rising" id="early-rising">
                                    <label for="early-rising">æ—©èµ·</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit" value="exercise" id="exercise">
                                    <label for="exercise">åšæŒè¿åŠ¨</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit" value="reading" id="reading">
                                    <label for="reading">æ¯å¤©è¯»ä¹¦</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit" value="meditation" id="meditation">
                                    <label for="meditation">å†¥æƒ³ç»ƒä¹ </label>
                                </div>
                            </div>
                        </div>

                        <div class="habit-category" data-category-id="health-diet" data-pathway="build-good-habit" onclick="selectCategory(this)">
                            <div class="category-icon">ğŸ¥—</div>
                            <h3 class="category-title">å¥åº·é¥®é£Ÿ</h3>
                            <p class="category-description">æ§åˆ¶ä½“é‡ã€å¥åº·é¥®é£Ÿã€è§„å¾‹ä½œæ¯ç­‰</p>
                            <div class="habit-options">
                                <div class="habit-option">
                                    <input type="radio" name="habit" value="weight-loss" id="weight-loss">
                                    <label for="weight-loss">æ§åˆ¶ä½“é‡</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit" value="healthy-eating" id="healthy-eating">
                                    <label for="healthy-eating">å¥åº·é¥®é£Ÿ</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit" value="drink-water" id="drink-water">
                                    <label for="drink-water">å¤šå–æ°´</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit" value="sleep-schedule" id="sleep-schedule">
                                    <label for="sleep-schedule">è§„å¾‹ä½œæ¯</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </section>

            <section class="step-view" data-step="2">
                <section class="personalization" id="personalization-zh">
                    <div class="personalization-container">
                        <h2 class="section-title">ä¸ªæ€§åŒ–ä½ çš„æ”¹å˜è®¡åˆ’</h2>
                        <p class="section-subtitle">è¿™äº›ä¿¡æ¯åªä¼šä¿å­˜åœ¨ä½ çš„æµè§ˆå™¨ä¸­ï¼Œå¸®åŠ©æˆ‘ä»¬è°ƒæ•´æ¯å¤©çš„è‡ªæˆ‘å¯¹è¯æç¤ºã€‚</p>

                        <div class="form-group">
                            <label for="name-zh">ä½ çš„åå­—ï¼ˆæˆ‘ä»¬ä¼šåœ¨å¯¹è¯ä¸­ä½¿ç”¨ï¼‰</label>
                            <input type="text" id="name-zh" placeholder="è¯·è¾“å…¥ä½ çš„åå­—">
                        </div>

                        <div class="form-group">
                            <label for="motivation-zh">ä½ æœ€æƒ³æ”¹å˜è¿™ä¸ªä¹ æƒ¯çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ</label>
                            <textarea id="motivation-zh" placeholder="ä¾‹å¦‚ï¼šä¸ºäº†å¥åº·ã€ä¸ºäº†å®¶äººã€ä¸ºäº†æ›´å¥½çš„è‡ªå·±..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="current-level-zh">ä½ ç›®å‰çš„æƒ…å†µå¦‚ä½•ï¼Ÿ</label>
                            <select id="current-level-zh">
                                <option value="">è¯·é€‰æ‹©</option>
                                <option value="beginner">åˆšå¼€å§‹å°è¯•</option>
                                <option value="struggling">ä¸€ç›´åœ¨åŠªåŠ›ä½†æ€»æ˜¯å¤±è´¥</option>
                                <option value="intermediate">æœ‰ä¸€äº›æˆåŠŸä½†éœ€è¦å·©å›º</option>
                                <option value="relapse">æ›¾ç»æˆåŠŸè¿‡åˆé‡æ–°å¼€å§‹</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>ä½ æƒ³åœ¨å“ªäº›æ—¶é—´æé†’è‡ªå·±ç»ƒä¹ ï¼Ÿ</label>
                            <div class="reminder-times">
                                <div class="time-slot">
                                    <input type="checkbox" id="morning-zh" checked>
                                    <label for="morning-zh">æ—©æ™¨ï¼ˆ08:00ï¼‰</label>
                                </div>
                                <div class="time-slot">
                                    <input type="checkbox" id="afternoon-zh" checked>
                                    <label for="afternoon-zh">åˆåï¼ˆ14:00ï¼‰</label>
                                </div>
                                <div class="time-slot">
                                    <input type="checkbox" id="evening-zh" checked>
                                    <label for="evening-zh">æ™šä¸Šï¼ˆ20:00ï¼‰</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="reward-zh">ä½ æƒ³ç»™è‡ªå·±ä»€ä¹ˆå¥–åŠ±æˆ–æ‰¾è°ç›‘ç£ï¼Ÿ</label>
                            <input type="text" id="reward-zh" placeholder="ä¾‹å¦‚ï¼šç¬¬ 21 å¤©è¯·å®¶äººä¸€èµ·åº†ç¥">
                        </div>
                    </div>
                </section>
            </section>

            <section class="step-view" data-step="3">
                <div class="plan-wrapper" data-locale="zh">
                    <h2 class="section-title">ä½ çš„ 21 å¤©æ‰§è¡Œè®¡åˆ’</h2>
                    <p class="section-subtitle">æ¯å¤©éšæ—¶é‡å¤è‡ªæˆ‘å¯¹è¯ï¼Œå¹¶æŒ‰æç¤ºå®Œæˆè¡ŒåŠ¨ã€‚ä¸‹æ–¹å¯ä»¥å‹¾é€‰å®Œæˆæ¬¡æ•°ï¼Œç³»ç»Ÿä¼šè®°å½•åœ¨æœ¬åœ°ã€‚</p>

                    <div class="plan-progress">
                        <div class="plan-progress__label">
                            <span>å®Œæˆè¿›åº¦</span>
                            <span class="plan-progress__value" id="plan-progress-percent-zh">0%</span>
                        </div>
                        <div class="plan-progress__bar">
                            <div class="plan-progress__fill" id="plan-progress-bar-zh"></div>
                        </div>
                    </div>

                    <div class="plan-reminders">
                        <label class="reminder-toggle">
                            <input type="checkbox" id="plan-reminder-zh">
                            <span>æ¯å¤©æé†’æˆ‘é‡å¤å½•éŸ³ä¸è¡ŒåŠ¨</span>
                        </label>
                        <p class="muted reminder-note">æˆ‘ä»¬ä¼šåœ¨æœ¬åœ°ä¿å­˜æé†’æ ‡è®°ï¼Œå¹¶å¼•å¯¼ä½ æŠŠç»ƒä¹ å†™è¿›æ—¥å†æˆ–å¾…åŠã€‚</p>
                    </div>

                    <div class="plan-recorder is-disabled" data-recorder-locale="zh">
                        <div class="plan-recorder-header">
                            <h3>è¯­éŸ³ç»ƒä¹ åŒº</h3>
                            <p>ç”Ÿæˆè®¡åˆ’åï¼Œç«‹åˆ»å¤§å£°å¿µå‡ºæ ¸å¿ƒè¯­å¥ï¼›ä¸€å®šè¦å‡ºå£°æœ—è¯»æ‰èƒ½åŒæ—¶è°ƒåŠ¨çœ¼ã€å£ã€è€³ï¼Œé»˜è¯»çš„æ•ˆæœä¼šå·®å¾ˆå¤šã€‚æ‰€æœ‰éŸ³é¢‘ä»…ä¿ç•™åœ¨ä½ çš„è£…ç½®ä¸­ã€‚</p>
                        </div>
                        <div class="plan-recorder-controls">
                            <button type="button" class="cta-button" data-recorder-start>å¼€å§‹å½•éŸ³</button>
                            <button type="button" class="cta-button secondary" data-recorder-stop disabled>åœæ­¢</button>
                            <a class="cta-button secondary" data-recorder-download hidden download="selftalk-practice-zh.webm">ä¸‹è½½å½•éŸ³</a>
                        </div>
                        <p class="plan-recorder-status" data-recorder-status>é€‰æ‹©ä¸€ä¸ªæ¨¡æ¿å¹¶ç”Ÿæˆè®¡åˆ’åï¼Œå°±èƒ½åœ¨è¿™é‡Œç»ƒä¹ å½•éŸ³ã€‚</p>
                        <audio controls data-recorder-audio hidden></audio>
                    </div>

                    <div class="plan-days" id="plan-days-zh">
                        <div class="plan-empty" id="plan-empty-zh">è¯·é€‰æ‹©ä¸€ä¸ªæ¨¡æ¿åæŸ¥çœ‹æ¯æ—¥è„šæœ¬ä¸è¡ŒåŠ¨æç¤ºã€‚</div>
                        <ol class="plan-day-list" id="plan-day-list-zh"></ol>
                    </div>

                    <div class="plan-learning" id="plan-learning-zh">
                        <h3>å»¶ä¼¸é˜…è¯»</h3>
                        <p class="muted">æ ¹æ®ä¸åŒé˜¶æ®µï¼Œæˆ‘ä»¬ä¼šæ¨èæ›´å¤šç§‘æ™®å†…å®¹å¸®åŠ©ä½ åšæŒåˆ°åº•ã€‚</p>
                    </div>
                </div>
            </section>

            <section class="action-buttons">
                <button class="cta-button secondary" onclick="goBack()" style="display: none;" id="back-btn-zh">ä¸Šä¸€æ­¥</button>
                <button class="cta-button" onclick="nextStep()" id="next-btn-zh">ä¸‹ä¸€æ­¥</button>
            </section>
            <p class="muted" style="text-align:center;margin:1.5rem 0 3rem;">éœ€è¦å¸®åŠ©æ—¶ï¼Œå†™ä¿¡åˆ° <a href="mailto:selftalkernow@outlook.com">selftalkernow@outlook.com</a>ï¼Œæˆ‘ä¼šä¸ä½ ä¸€èµ·è°ƒæ•´è®¡åˆ’ã€‚</p>
        </div>

        <!-- è‹±æ–‡å†…å®¹ -->
        <div class="content active" data-lang="en">
            <section class="page-header">
                <span class="header-badge">â± 3 minutes to set up Â· Day 1 ready instantly</span>
                <h1>Start Your 21-Day Self-Talk Plan</h1>
                <p class="subtitle">Pick your habit, note your â€œwhy,â€ choose reminders â€” the system generates daily dialogues, replacement actions, and reflection prompts for you.</p>
                <div class="header-highlights">
                    <div class="header-highlight">
                        <strong>Day 1 in your inbox</strong>
                        Submit the form and youâ€™ll get the first script immediately, ready to copy into your notes or planner.
                    </div>
                    <div class="header-highlight">
                        <strong>Bilingual guidance</strong>
                        Every prompt is available in both Chinese and English so you can rehearse or share wherever you are.
                    </div>
                    <div class="header-highlight">
                        <strong>Direct support</strong>
                        Stuck mid-journey? Email selftalkernow@outlook.com and weâ€™ll adjust the next steps together.
                    </div>
                </div>
            </section>

            <section class="progress-indicator" data-role="stepper">
                <div class="progress-step">
                    <div class="step-circle active" data-step-circle="1">1</div>
                    <div class="step-label active" data-step-label="1">Choose Habit</div>
                    <div class="step-connector"></div>
                    <div class="step-circle" data-step-circle="2">2</div>
                    <div class="step-label" data-step-label="2">Personalize</div>
                    <div class="step-connector"></div>
                    <div class="step-circle" data-step-circle="3">3</div>
                    <div class="step-label" data-step-label="3">Start Practice</div>
                </div>
            </section>

            <section class="step-view active" data-step="1">
                <div class="step-intro">
                    <p class="lead-paragraph">Pick the direction you care about the most. SelfTalk will craft a 21-day, day-by-day practice for you. You can switch language or change choices anytime.</p>
                    <div class="pathway-grid">
                        <button type="button" class="pathway-card selected" data-pathway="break-bad-habit">
                            <span class="pathway-icon">ğŸš«</span>
                            <span class="pathway-title">Break Bad Habits</span>
                            <span class="pathway-description">Quit smoking or drinking, reduce phone time, beat procrastination</span>
                        </button>
                        <button type="button" class="pathway-card" data-pathway="build-good-habit">
                            <span class="pathway-icon">âœ¨</span>
                            <span class="pathway-title">Build Good Habits</span>
                            <span class="pathway-description">Wake up early, move more, read daily, meditate with confidence</span>
                        </button>
                    </div>
                </div>

                <section class="habit-selection">
                    <h2 class="section-title">Choose the habit you want to work on</h2>
                    <p class="section-subtitle">Ready-made templates will load automatically. We label upcoming ones as Coming soon or Custom for now.</p>
                    <div class="habit-categories">
                        <div class="habit-category selected" data-category-id="break-bad-habit" data-pathway="break-bad-habit" onclick="selectCategory(this)">
                            <div class="category-icon">ğŸš«</div>
                            <h3 class="category-title">Break Bad Habits</h3>
                            <p class="category-description">Quit smoking, reduce drinking, limit phone doom scrolling</p>
                            <div class="habit-options">
                                <div class="habit-option">
                                    <input type="radio" name="habit-en" value="quit-smoking" id="quit-smoking-en" data-script="quit-smoking" checked>
                                    <label for="quit-smoking-en">Quit Smoking</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit-en" value="reduce-phone" id="reduce-phone-en">
                                    <label for="reduce-phone-en">Reduce Phone Usage</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit-en" value="stop-procrastination" id="stop-procrastination-en">
                                    <label for="stop-procrastination-en">Stop Procrastination</label>
                                </div>
                            </div>
                        </div>

                        <div class="habit-category" data-category-id="build-good-habit" data-pathway="build-good-habit" onclick="selectCategory(this)">
                            <div class="category-icon">âœ¨</div>
                            <h3 class="category-title">Build Good Habits</h3>
                            <p class="category-description">Early rising, exercise, reading, meditation and more</p>
                            <div class="habit-options">
                                <div class="habit-option">
                                    <input type="radio" name="habit-en" value="early-rising" id="early-rising-en">
                                    <label for="early-rising-en">Early Rising</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit-en" value="exercise" id="exercise-en">
                                    <label for="exercise-en">Regular Exercise</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit-en" value="reading" id="reading-en">
                                    <label for="reading-en">Daily Reading</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit-en" value="meditation" id="meditation-en">
                                    <label for="meditation-en">Meditation Practice</label>
                                </div>
                            </div>
                        </div>

                        <div class="habit-category" data-category-id="health-diet" data-pathway="build-good-habit" onclick="selectCategory(this)">
                            <div class="category-icon">ğŸ¥—</div>
                            <h3 class="category-title">Health & Diet</h3>
                            <p class="category-description">Weight balance, healthy eating, consistent sleep</p>
                            <div class="habit-options">
                                <div class="habit-option">
                                    <input type="radio" name="habit-en" value="weight-loss" id="weight-loss-en">
                                    <label for="weight-loss-en">Weight Control</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit-en" value="healthy-eating" id="healthy-eating-en">
                                    <label for="healthy-eating-en">Healthy Eating</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit-en" value="drink-water" id="drink-water-en">
                                    <label for="drink-water-en">Drink More Water</label>
                                </div>
                                <div class="habit-option">
                                    <input type="radio" name="habit-en" value="sleep-schedule" id="sleep-schedule-en">
                                    <label for="sleep-schedule-en">Regular Sleep</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </section>

            <section class="step-view" data-step="2">
                <section class="personalization" id="personalization-en">
                    <div class="personalization-container">
                        <h2 class="section-title">Personalize your change plan</h2>
                        <p class="section-subtitle">We keep everything in your browser only. It helps tailor daily scripts to your situation.</p>

                        <div class="form-group">
                            <label for="name-en">Your name (we'll use it in dialogues)</label>
                            <input type="text" id="name-en" placeholder="Enter your name">
                        </div>

                        <div class="form-group">
                            <label for="motivation-en">What's your main motivation for changing this habit?</label>
                            <textarea id="motivation-en" placeholder="e.g., For my health, for my family, to become a better person..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="current-level-en">Where are you right now?</label>
                            <select id="current-level-en">
                                <option value="">Please select</option>
                                <option value="beginner">Just starting to try</option>
                                <option value="struggling">Been trying but keep slipping</option>
                                <option value="intermediate">Short-term wins, still building momentum</option>
                                <option value="relapse">Succeeded before but relapsed</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>When would you like self-talk reminders?</label>
                            <div class="reminder-times">
                                <div class="time-slot">
                                    <input type="checkbox" id="morning-en" checked>
                                    <label for="morning-en">Morning (8:00)</label>
                                </div>
                                <div class="time-slot">
                                    <input type="checkbox" id="afternoon-en" checked>
                                    <label for="afternoon-en">Afternoon (14:00)</label>
                                </div>
                                <div class="time-slot">
                                    <input type="checkbox" id="evening-en" checked>
                                    <label for="evening-en">Evening (20:00)</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="reward-en">Any accountability partner or reward?</label>
                            <input type="text" id="reward-en" placeholder="e.g., Celebrate with family dinner on day 21">
                        </div>
                    </div>
                </section>
            </section>

            <section class="step-view" data-step="3">
                <div class="plan-wrapper" data-locale="en">
                    <h2 class="section-title">Your 21-day practice plan</h2>
                    <p class="section-subtitle">Repeat the self-talk, follow the actions, and tick off your progress. Everything stays on this device.</p>

                    <div class="plan-progress">
                        <div class="plan-progress__label">
                            <span>Progress</span>
                            <span class="plan-progress__value" id="plan-progress-percent-en">0%</span>
                        </div>
                        <div class="plan-progress__bar">
                            <div class="plan-progress__fill" id="plan-progress-bar-en"></div>
                        </div>
                    </div>

                    <div class="plan-reminders">
                        <label class="reminder-toggle">
                            <input type="checkbox" id="plan-reminder-en">
                            <span>Remind me each day to replay and take action</span>
                        </label>
                        <p class="muted reminder-note">We'll store this preference locally and prompt you to add calendar or to-do reminders.</p>
                    </div>

                    <div class="plan-recorder is-disabled" data-recorder-locale="en">
                        <div class="plan-recorder-header">
                            <h3>Voice rehearsal zone</h3>
                            <p>Once your plan loads, rehearse the key sentences out loudâ€”speaking aloud engages eyes, mouth, and ears, while silent reading only taps your eyes. The audio stays on your device only.</p>
                        </div>
                        <div class="plan-recorder-controls">
                            <button type="button" class="cta-button" data-recorder-start>Start recording</button>
                            <button type="button" class="cta-button secondary" data-recorder-stop disabled>Stop</button>
                            <a class="cta-button secondary" data-recorder-download hidden download="selftalk-practice-en.webm">Download</a>
                        </div>
                        <p class="plan-recorder-status" data-recorder-status>Pick a template and generate the plan to start recording practice here.</p>
                        <audio controls data-recorder-audio hidden></audio>
                    </div>

                    <div class="plan-days" id="plan-days-en">
                        <div class="plan-empty" id="plan-empty-en">Pick a template to unlock the daily scripts and action prompts.</div>
                        <ol class="plan-day-list" id="plan-day-list-en"></ol>
                    </div>

                    <div class="plan-learning" id="plan-learning-en">
                        <h3>Further reading</h3>
                        <p class="muted">We'll surface science-backed articles for each phase as the library grows.</p>
                    </div>
                </div>
            </section>

            <section class="action-buttons">
                <button class="cta-button secondary" onclick="goBack()" style="display: none;" id="back-btn-en">Back</button>
                <button class="cta-button" onclick="nextStep()" id="next-btn-en">Next Step</button>
            </section>
            <p class="muted" style="text-align:center;margin:1.5rem 0 3rem;">Need a hand? Email <a href="mailto:selftalkernow@outlook.com">selftalkernow@outlook.com</a> and weâ€™ll fine-tune your plan together.</p>
        </div>
        </div>

    </main>

<script>
(function() {
    const STORAGE_KEY = 'preferred-language';

    function applyLanguage(lang) {
        const targetLang = lang === 'zh' ? 'zh' : 'en';
        document.documentElement.lang = targetLang === 'zh' ? 'zh-CN' : 'en';
        document.body.setAttribute('data-lang', targetLang);

        document.querySelectorAll('.lang-btn').forEach(button => {
            button.classList.toggle('active', button.getAttribute('data-lang') === targetLang);
        });

        document.querySelectorAll('.content[data-lang]').forEach(section => {
            section.classList.toggle('active', section.getAttribute('data-lang') === targetLang);
        });

        document.querySelectorAll('[data-text-zh]').forEach(node => {
            const zhText = node.getAttribute('data-text-zh');
            const enText = node.getAttribute('data-text-en');
            if (zhText !== null && enText !== null) {
                node.textContent = targetLang === 'zh' ? zhText : enText;
            }
        });

        const titleText = targetLang === 'zh'
            ? 'å¼€å§‹æ”¹å˜ - è‡ªæˆ‘å¯¹è¯'
            : 'Start Your Transformation - SelfTalk';
        document.title = titleText;

        try {
            localStorage.setItem(STORAGE_KEY, targetLang);
        } catch (error) {
            document.cookie = `${STORAGE_KEY}=${targetLang}; path=/; max-age=31536000`;
        }

        ensureCategorySelection(targetLang);

        if (window.HabitFlow && typeof window.HabitFlow.updateStepUI === 'function') {
            window.HabitFlow.updateStepUI();
        }
    }

    function loadSavedLanguage() {
        let stored = 'en';
        try {
            stored = localStorage.getItem(STORAGE_KEY) || 'en';
        } catch (error) {
            const cookies = document.cookie.split(';');
            for (const cookie of cookies) {
                const [name, value] = cookie.trim().split('=');
                if (name === STORAGE_KEY && value) {
                    stored = value;
                    break;
                }
            }
        }

        if (!stored) {
            stored = 'en';
        }

        return stored;
    }

    function selectCategoryInternal(categoryElement, options = {}) {
        const { autoSelect = true } = options;

        if (!categoryElement) {
            return;
        }

        const scopeRoot = categoryElement.closest('.content[data-lang]');
        const scopedCategories = scopeRoot
            ? scopeRoot.querySelectorAll('.habit-category')
            : document.querySelectorAll('.habit-category');

        scopedCategories.forEach((category) => {
            category.classList.toggle('selected', category === categoryElement);
        });

        if (window.HabitFlow && typeof window.HabitFlow.onCategorySelected === 'function') {
            window.HabitFlow.onCategorySelected(categoryElement, options);
        }

        const radios = categoryElement.querySelectorAll('input[type="radio"]');
        const groupName = radios[0]?.name;
        const firstEnabled = categoryElement.querySelector('input[type="radio"]:not(:disabled)');

        if (!firstEnabled && groupName) {
            const currentChecked = document.querySelector(`input[type="radio"][name="${groupName}"]:checked`);
            if (currentChecked) {
                currentChecked.checked = false;
                currentChecked.dispatchEvent(new Event('change', { bubbles: true }));
            }
            return;
        }

        if (!autoSelect || !firstEnabled) {
            return;
        }

        const alreadyChecked = categoryElement.querySelector('input[type="radio"]:checked');
        if (alreadyChecked) {
            return;
        }

        firstEnabled.checked = true;
        firstEnabled.dispatchEvent(new Event('change', { bubbles: true }));
    }

    function ensureCategorySelection(lang) {
        const root = document.querySelector(`.content[data-lang="${lang}"]`);
        if (!root) {
            return;
        }

        const checked = root.querySelector('input[type="radio"]:checked');
        if (checked) {
            const category = checked.closest('.habit-category');
            selectCategoryInternal(category, { autoSelect: false });
            return;
        }

        const preselected = root.querySelector('.habit-category.selected');
        if (preselected) {
            selectCategoryInternal(preselected, { autoSelect: true });
            return;
        }

        const firstCategory = root.querySelector('.habit-category');
        if (firstCategory) {
            selectCategoryInternal(firstCategory, { autoSelect: true });
        }
    }

    window.selectCategory = function(categoryElement) {
        selectCategoryInternal(categoryElement, { autoSelect: true });
    };

    window.switchLanguage = function(lang) {
        applyLanguage(lang);
    };

    document.addEventListener('DOMContentLoaded', () => {
        const initialLang = loadSavedLanguage();
        applyLanguage(initialLang);
    });
})();
</script>

<script src="../assets/js/inline-scripts.js"></script>
<script src="../assets/js/start-flow.js"></script>

</body>
</html>
