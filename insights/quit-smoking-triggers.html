<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-title-zh="ä¸ºä»€ä¹ˆæˆ’çƒŸæ€»å¤±è´¥ï¼ŸçœŸæ­£çš„æ•Œäººæ˜¯è§¦å‘å™¨" data-title-en="Why You Keep Relapsing: Triggers, Not Willpower">ä¸ºä»€ä¹ˆæˆ’çƒŸæ€»å¤±è´¥ï¼ŸçœŸæ­£çš„æ•Œäººæ˜¯è§¦å‘å™¨</title>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T9ZN9KSK27"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-T9ZN9KSK27');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6928529142816465" crossorigin="anonymous"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #10B981;
            --accent: #FB923C;
            --dark: #1F2937;
            --gray: #6B7280;
            --light-gray: #F3F4F6;
            --white: #FFFFFF;
            --background: #FAFAFA;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            color: var(--dark);
            background: var(--background);
            line-height: 1.75;
        }

        a {
            color: inherit;
        }

        nav {
            background: var(--white);
            padding: 1rem 2rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo::before {
            content: 'ğŸ’¬';
            font-size: 1.7rem;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--gray);
            transition: color 0.3s ease;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--primary);
        }

        .nav-links .cta-button {
            background: var(--primary);
            color: var(--white);
            padding: 0.6rem 1.5rem;
            border-radius: 25px;
        }

        .language-switcher {
            position: fixed;
            top: 120px;
            right: 20px;
            z-index: 1001;
            display: flex;
            gap: 0.5rem;
            background: var(--white);
            border-radius: 25px;
            padding: 0.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .lang-btn {
            padding: 0.4rem 1rem;
            border: none;
            border-radius: 999px;
            background: transparent;
            color: var(--gray);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .lang-btn.active {
            background: var(--primary);
            color: var(--white);
        }

        main {
            margin-top: 90px;
        }

        .hero {
            padding: 5rem 2rem 4rem;
            background: linear-gradient(135deg, rgba(244,114,182,0.08) 0%, rgba(59,130,246,0.08) 100%);
        }

        .hero-inner {
            max-width: 850px;
            margin: 0 auto;
            display: grid;
            gap: 1.5rem;
        }

        .hero-eyebrow {
            color: var(--accent);
            font-weight: 600;
            letter-spacing: 0.08em;
            text-transform: uppercase;
        }

        .hero h1 {
            font-size: clamp(2.2rem, 5vw, 3.2rem);
            line-height: 1.2;
        }

        .hero p {
            color: var(--gray);
            font-size: 1.1rem;
        }

        .cta-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            background: var(--primary);
            color: var(--white);
            padding: 0.75rem 1.75rem;
            border-radius: 999px;
            text-decoration: none;
            font-weight: 600;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(16,185,129,0.25);
        }

        .article-body {
            padding: 4rem 1.5rem 5rem;
        }

        .article-inner {
            max-width: 900px;
            margin: 0 auto;
            display: grid;
            gap: 3rem;
        }

        .module {
            background: var(--white);
            border-radius: 24px;
            padding: 2.5rem;
            box-shadow: 0 20px 45px rgba(15,23,42,0.08);
            border: 1px solid rgba(15,118,110,0.08);
            position: relative;
            overflow: hidden;
        }

        .module::before {
            content: attr(data-badge);
            position: absolute;
            top: 1.6rem;
            right: 1.8rem;
            font-weight: 700;
            letter-spacing: 0.08em;
            color: rgba(31,41,55,0.12);
        }

        .module h2 {
            font-size: 1.8rem;
            margin-bottom: 1rem;
        }

        .module h3 {
            font-size: 1.3rem;
            margin-bottom: 1.2rem;
            color: var(--primary);
        }

        .module p + p {
            margin-top: 1rem;
        }

        .module ul {
            margin: 1rem 0 0 1.2rem;
            color: var(--gray);
        }

        .module strong {
            color: var(--dark);
        }

        .module[data-tone="alert"] h3 {
            color: #DC2626;
        }

        .module[data-tone="secondary"] h3 {
            color: #2563EB;
        }

        blockquote {
            margin: 2rem 0 0;
            padding: 1.5rem 1.8rem;
            border-left: 4px solid var(--accent);
            background: rgba(251,146,60,0.08);
            border-radius: 14px;
            color: var(--dark);
            font-size: 1.05rem;
        }

        .article-footer {
            text-align: center;
            display: grid;
            gap: 1.2rem;
        }

        .article-footer h3 {
            font-size: 1.6rem;
        }

        footer {
            background: var(--dark);
            color: var(--light-gray);
            text-align: center;
            padding: 2rem;
        }

        footer p + p {
            margin-top: 0.5rem;
        }

        .content[data-lang]:not(.active) {
            display: none;
        }

        @media (max-width: 768px) {
            nav {
                padding: 0.9rem 1.4rem;
            }

            .nav-links {
                display: none;
            }

            .language-switcher {
                bottom: 20px;
                top: auto;
            }

            .module {
                padding: 2rem;
            }

            .module::before {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="language-switcher">
        <button class="lang-btn active" data-lang="zh">ä¸­æ–‡</button>
        <button class="lang-btn" data-lang="en">English</button>
    </div>

    <nav>
        <div class="nav-container">
            <a href="/" class="logo" data-text-zh="è‡ªè¯­åŠ›" data-text-en="SelfTalk">è‡ªè¯­åŠ›</a>
            <div class="nav-links">
                <a href="/" data-text-zh="é¦–é¡µ" data-text-en="Home">é¦–é¡µ</a>
                <a href="/start" data-text-zh="å¼€å§‹" data-text-en="Start">å¼€å§‹</a>
                <a href="/about" data-text-zh="å…³äºæˆ‘" data-text-en="About">å…³äºæˆ‘</a>
                <a href="/insights" class="active" data-text-zh="æ–‡ç« " data-text-en="Articles">æ–‡ç« </a>
            </div>
        </div>
    </nav>

    <main>
        <div class="content active" data-lang="zh">
            <section class="hero">
                <div class="hero-inner">
                    <span class="hero-eyebrow">æˆ’çƒŸä¸“é¢˜</span>
                    <h1>ä¸ºä»€ä¹ˆä½ æ€»æ˜¯æˆ’çƒŸå¤±è´¥ï¼Ÿç­”æ¡ˆå¯èƒ½å‡ºä¹ä½ æ„æ–™</h1>
                    <p>å‡ ä¹æ¯ä¸ªå¸çƒŸçš„äººéƒ½â€œæˆåŠŸâ€æˆ’è¿‡çƒŸâ€”â€”åªæ˜¯åæ¥åˆå¤å¸äº†ã€‚ä½ å¯èƒ½æ’•è¿‡çƒŸã€ä¹°è¿‡æˆ’çƒŸèŒ¶ã€å‘è¿‡èª“ï¼Œå¯ä¸€åˆ°é¥­åã€åº”é…¬ã€å‹åŠ›å¤§ï¼Œå°±åˆç‚¹ä¸Šä¸€æ ¹ã€‚ä¸æ˜¯ä½ ä¸è¡Œï¼Œè€Œæ˜¯ä½ æé”™äº†çœŸæ­£çš„æ•Œäººã€‚</p>
                    <a class="cta-button" href="#module-triggers">å¼€å§‹äº†è§£çœŸæ­£çš„åŸå› </a>
                </div>
            </section>

            <article class="article-body">
                <div class="article-inner">
                    <section class="module" id="module-triggers" data-badge="01" data-tone="alert">
                        <h2>çœŸæ­£çš„æ•Œäººä¸æ˜¯çƒŸï¼Œè€Œæ˜¯â€œè§¦å‘å™¨â€</h2>
                        <h3>é—®é¢˜å‡ºåœ¨é‚£ä¸€ç¬é—´ï¼Œè€Œä¸æ˜¯çƒŸæœ¬èº«</h3>
                        <p>æƒ³æŠ½çƒŸçš„å†²åŠ¨ï¼Œæ€»æœ‰è¿¹å¯å¾ªï¼š</p>
                        <ul>
                            <li>ä¸Šç­ç´¯äº†ï¼Œç‚¹ä¸€æ ¹ç¼“è§£ä¸€ä¸‹ï¼›</li>
                            <li>é¥­åä¸€æ ¹ï¼Œä¸æŠ½å°±è§‰å¾—å°‘ç‚¹å•¥ï¼›</li>
                            <li>æœ‹å‹é€’è¿‡æ¥ï¼Œä¸å¥½æ„æ€æ‹’ç»ï¼›</li>
                            <li>å¤©æ°”å†·ï¼Œæ‰‹é‡Œæ²¡çƒŸéƒ½ä¸çŸ¥é“æ”¾å“ªå„¿ã€‚</li>
                        </ul>
                        <p>è¿™äº›åœºæ™¯ï¼Œå°±æ˜¯è§¦å‘å™¨ã€‚å¦‚æœä½ åªç›¯ç€â€œä¸è¦æŠ½â€ï¼Œå´ä¸æ”¹å˜è§¦å‘å™¨ï¼Œå°±åƒå…³æ‰æ°´é¾™å¤´ï¼Œä½†ä¸€ç›´æœ‰äººåœ¨æ‹§å¼€å¼€å…³ï¼Œèƒ½å…³å¾—ä½å—ï¼Ÿ</p>
                    </section>

                    <section class="module" data-badge="02" data-tone="secondary">
                        <h2>æ„å¿—åŠ›å°±åƒç”µé‡ï¼Œä¸å¤Ÿç”¨</h2>
                        <h3>é â€œç¡¬æ‰›â€ä¸ºä»€ä¹ˆæ€»æ˜¯å¤±è´¥ï¼Ÿ</h3>
                        <p>å¾ˆå¤šäººè§‰å¾—â€œæˆ’çƒŸé æ¯…åŠ›â€ã€‚ä½†æ„å¿—åŠ›å°±åƒæ‰‹æœºç”µæ± ï¼Œæ—©ä¸Šæ»¡æ ¼ï¼Œå·¥ä½œã€ç”Ÿæ´»ã€æƒ…ç»ªä¸€è€—ï¼Œåˆ°æ™šä¸Šå°±è§çº¢ã€‚ç™½å¤©è¿˜èƒ½å¿ä¸€å¿ï¼Œç†¬åˆ°å¤œé‡Œï¼Œä¸€ä¸ªäººå­¤ç‹¬å¯‚å¯å†·ï¼Œå•ªï¼Œä¸€æ ¹ç‚¹ä¸Šå»ã€‚</p>
                        <p>æ‰€ä»¥åˆ«æ€ªè‡ªå·±ä¸è¡Œï¼Œæ˜¯æ–¹æ³•æœ¬æ¥å°±ä¸é è°±ã€‚</p>
                    </section>

                    <section class="module" data-badge="03">
                        <h2>æˆ’çƒŸå¤±è´¥ï¼Œä¸ä»£è¡¨ç™½è´¹åŠŸå¤«</h2>
                        <h3>ä¸€æ¬¡â€œç ´æˆ’â€ï¼Œä¸æ˜¯å…¨ç›˜çš†è¾“</h3>
                        <p>å¾ˆå¤šäººä¸€æ—¦â€œç ´æˆ’â€ï¼Œå°±è§‰å¾—å‰åŠŸå°½å¼ƒï¼šâ€œç®—äº†ï¼Œæˆ‘æ²¡æ•‘äº†ã€‚â€ è¿™å«â€œå…¨æˆ–æ— â€æ€ç»´ã€‚å…¶å®ä½ ä¹‹å‰å¿è¿‡çš„ä¸€å¤©ã€ä¸‰å¤©ã€ä¸€å‘¨ï¼Œéƒ½ä¸æ˜¯ç™½è´¹ï¼Œå®ƒä»¬éƒ½åœ¨å¸®ä½ è®­ç»ƒå¤§è„‘ã€‚</p>
                        <p>çœŸæ­£èƒ½æˆåŠŸçš„äººï¼Œéƒ½æ˜¯â€œå¤±è´¥â€”é‡æ¥â€”å†è°ƒæ•´â€è¿™æ ·å¾ªç¯çš„ã€‚æ¯ä¸€æ¬¡é‡æ¥ï¼Œéƒ½æ¯”ä¸Šä¸€æ¬¡æ›´æ¥è¿‘æˆåŠŸã€‚</p>
                    </section>

                    <section class="module" data-badge="04">
                        <h2>æ— ç—›æˆ’çƒŸçš„ä¸‰æ­¥èµ°</h2>
                        <h3>ä¸ç”¨æ‹¼å‘½ï¼Œä¹Ÿèƒ½èµ°å‡ºæ¥</h3>
                        <p><strong>ç¬¬ä¸€æ­¥ï¼šæ”¹å£ã€‚</strong> ä¸è¦å†è¯´â€œæˆ‘è¦æˆ’çƒŸâ€ã€‚è¯•ç€è¯´ï¼šâ€œæˆ‘å…¶å®æ˜¯ä¸ªä¸æŠ½çƒŸçš„äººï¼Œåªæ˜¯ä¹‹å‰èµ°äº†ç‚¹å¼¯è·¯ã€‚â€ è¿™æ˜¯ç»™è‡ªå·±ä¸€ä¸ªæ–°èº«ä»½ï¼Œè®©æŠ½çƒŸå˜å¾—è¶Šæ¥è¶Šåˆ«æ‰­ã€‚</p>
                        <p><strong>ç¬¬äºŒæ­¥ï¼šæ‰“æ–­è§¦å‘å™¨ã€‚</strong> æƒ³æŠ½çš„æ—¶å€™ï¼Œå…ˆåœä¸€ä¸‹ï¼Œç»™è‡ªå·±å‡ ç§’é’Ÿç¼“å†²ã€‚æ¯”å¦‚æ‰‹å·²ç»ä¼¸å‘çƒŸç›’ï¼Œå°±è¯´ä¸€å¥ï¼šâ€œæˆ‘ç°åœ¨é€‰æ‹©ä¸æŠ½ã€‚â€ è¿™å‡ ç§’è¶³å¤Ÿæ‰“æ–­è‡ªåŠ¨åŒ–åŠ¨ä½œã€‚</p>
                        <p><strong>ç¬¬ä¸‰æ­¥ï¼šå‡†å¤‡æ›¿ä»£åŠ¨ä½œã€‚</strong> æŠ½çƒŸèƒŒåå¾€å¾€æ˜¯ä¹ æƒ¯ã€‚ä½ æ‰‹é‡Œéœ€è¦ç‚¹ä»€ä¹ˆï¼Œéœ€è¦ä¸€ä¸ªèŠ‚å¥ã€‚é‚£å°±ç»™è‡ªå·±æ‰¾ä¸ªæ›¿ä»£ï¼šåš¼å£é¦™ç³–ã€æ‹¿èŒ¶æ¯ã€ç”šè‡³åŸåœ°èµ°ä¸¤æ­¥ã€‚åˆ«ç¡¬æè‡ªå·±ï¼Œç»™å¤§è„‘ä¸€ä¸ªæ–°å‡ºå£ã€‚</p>
                    </section>

                    <section class="module" data-badge="05">
                        <h2>æœ€åæƒ³è¯´çš„</h2>
                        <h3>ä½ ä¸æ˜¯å¤±è´¥äº†æ— æ•°æ¬¡ï¼Œä½ åªæ˜¯ç¦»æˆåŠŸæ›´è¿‘äº†</h3>
                        <p>æˆ’çƒŸä¸æ˜¯â€œä¸€æ¬¡å‘ç‹ å°±å½»åº•æˆåŠŸâ€ï¼Œå®ƒæ›´åƒæ˜¯å’Œè‡ªå·±çš„ä¸€åœºé•¿æœŸè°ˆåˆ¤ï¼šä¸€ç‚¹ç‚¹æ‹†æ‰è§¦å‘å™¨ï¼Œä¸€ç‚¹ç‚¹å»ºç«‹æ–°çš„èº«ä»½ã€‚å¤±è´¥ä¸€æ¬¡æ²¡å…³ç³»ï¼Œé‡æ¥å°±å¥½ã€‚åªè¦ä½ è¿˜æ„¿æ„é‡æ¥ï¼Œå°±ä¸ç®—å¤±è´¥ã€‚</p>
                        <blockquote>å…ˆè¯•ç€å†™ä¸‹ä¸€å¥è¯ï¼šâ€œæˆ‘æ˜¯ä¸€ä¸ªä¸æŠ½çƒŸçš„äººã€‚â€ æ¯å¤©å¿µå‡ åéï¼Œæ²¡äº‹å°±å’Œè‡ªå·±å¯¹è¯ã€‚ä½ å¯èƒ½ä¸ä¿¡ï¼Œä½†æ—¶é—´ä¹…äº†ï¼Œä½ ä¼šå‘ç°ï¼Œè‡ªå·±çœŸçš„è¶Šæ¥è¶Šåƒè¿™å¥è¯ã€‚</blockquote>
                        <div class="article-footer">
                            <h3>ä¸‹ä¸€æ­¥å°±ä»ä¸€å¥è¯å¼€å§‹</h3>
                            <a class="cta-button" href="/start?path=break-bad" target="_blank" rel="noopener">ç«‹åˆ»å†™ä¸‹ä½ çš„ç¬¬ä¸€å¥èº«ä»½å®£è¨€</a>
                        </div>
                    </section>
                </div>
            </article>
        </div>

        <div class="content" data-lang="en">
            <section class="hero">
                <div class="hero-inner">
                    <span class="hero-eyebrow">Quit-Smoking Special</span>
                    <h1>Why you keep relapsing might surprise you</h1>
                    <p>Almost every smoker has â€œquitâ€ beforeâ€”only to light up again. You tore up packs, bought herbal tea, swore you were done, yet after meals, social nights, or stressful calls you sparked another cigarette. Itâ€™s not that youâ€™re weak; youâ€™ve been fighting the wrong enemy.</p>
                    <a class="cta-button" href="#module-triggers-en">Understand the real reason</a>
                </div>
            </section>

            <article class="article-body">
                <div class="article-inner">
                    <section class="module" id="module-triggers-en" data-badge="01" data-tone="alert">
                        <h2>The real enemy isnâ€™t cigarettesâ€”itâ€™s the trigger</h2>
                        <h3>The problem lives in that split second, not in the cigarette itself</h3>
                        <p>The urge to smoke always has a pattern:</p>
                        <ul>
                            <li>Work is draining, so you grab a smoke for relief;</li>
                            <li>After meals you feel â€œsomethingâ€™s missingâ€ without a cigarette;</li>
                            <li>A friend offers one and it feels rude to refuse;</li>
                            <li>Cold weather hits and you donâ€™t know what to do with your hands.</li>
                        </ul>
                        <p>Those moments are triggers. Focusing on â€œdonâ€™t smokeâ€ while leaving the triggers intact is like turning off the faucet while someone keeps opening the valveâ€”youâ€™ll never stay dry.</p>
                    </section>

                    <section class="module" data-badge="02" data-tone="secondary">
                        <h2>Willpower is just a batteryâ€”and it drains fast</h2>
                        <h3>Why muscling through rarely works</h3>
                        <p>Weâ€™re told quitting is about grit. But willpower is a battery: you wake up at 100%, then work, emotions, and chores drain it. By night youâ€™re running on fumes, alone with your cravings, and <em>click</em>â€”there goes another cigarette.</p>
                        <p>That doesnâ€™t mean youâ€™re helpless. It means the method was flawed to begin with.</p>
                    </section>

                    <section class="module" data-badge="03">
                        <h2>A slip doesnâ€™t wipe out your progress</h2>
                        <h3>One â€œfailedâ€ night isnâ€™t game over</h3>
                        <p>After a relapse many people think, â€œI blew it. Iâ€™m hopeless.â€ Thatâ€™s all-or-nothing thinking. Every day you held back, every three-day or one-week streak trained your brain.</p>
                        <p>People who finally succeed cycle through â€œslip â†’ reset â†’ adjust.â€ Each reset gets them closer to smoke-free.</p>
                    </section>

                    <section class="module" data-badge="04">
                        <h2>The painless three-step exit</h2>
                        <h3>You donâ€™t have to fight yourself to quit</h3>
                        <p><strong>Step 1: Change the script.</strong> Stop saying â€œIâ€™m trying to quit.â€ Say â€œIâ€™m a non-smoker re-training myself.â€ A new identity makes cigarettes feel out of character.</p>
                        <p><strong>Step 2: Interrupt the trigger.</strong> When the urge hits, pause for a few seconds. If your hand reaches for the pack, tell yourself, â€œI choose not to light up right now.â€ That micro-gap interrupts the automatic motion.</p>
                        <p><strong>Step 3: Prepare a substitute.</strong> Smoking is a routine as much as an addiction. Your hands want an anchor and your mind wants rhythm. Give it alternatives: gum, a warm mug, two minutes of pacing. Swap the outlet instead of punishing yourself.</p>
                    </section>

                    <section class="module" data-badge="05">
                        <h2>A final word</h2>
                        <h3>You havenâ€™t failed countless timesâ€”youâ€™re edging closer to success</h3>
                        <p>Quitting isnâ€™t a single grand gesture. Itâ€™s a long negotiation with yourself: dismantling triggers, installing a new identity. If youâ€™re willing to restart, you havenâ€™t failed.</p>
                        <blockquote>Write one sentence today: â€œI am a non-smoker.â€ Repeat it dozens of times. Talk to yourself throughout the day. It sounds simple, but over time youâ€™ll start to live as the person in that sentence.</blockquote>
                        <div class="article-footer">
                            <h3>Let your next sentence lead the way</h3>
                            <a class="cta-button" href="/start?path=break-bad" target="_blank" rel="noopener">Write your first identity line now</a>
                        </div>
                    </section>
                </div>
            </article>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 <span data-text-zh="è‡ªè¯­åŠ›" data-text-en="SelfTalk">è‡ªè¯­åŠ›</span> SelfTalk. All rights reserved.</p>
        <p data-text-zh="ç”¨ç§‘å­¦çš„æ–¹æ³•ï¼Œæˆå°±æ›´å¥½çš„è‡ªå·±" data-text-en="Transform yourself with science-based methods">ç”¨ç§‘å­¦çš„æ–¹æ³•ï¼Œæˆå°±æ›´å¥½çš„è‡ªå·±</p>
    </footer>

    <script>
        const langButtons = document.querySelectorAll('.lang-btn');
        const contentBlocks = document.querySelectorAll('.content[data-lang]');
        const titleNode = document.querySelector('title');

        function switchLanguage(lang) {
            langButtons.forEach(btn => btn.classList.toggle('active', btn.dataset.lang === lang));
            contentBlocks.forEach(block => block.classList.toggle('active', block.dataset.lang === lang));
            document.documentElement.lang = lang === 'zh' ? 'zh-CN' : 'en';

            if (titleNode) {
                const zhTitle = titleNode.getAttribute('data-title-zh');
                const enTitle = titleNode.getAttribute('data-title-en');
                titleNode.textContent = lang === 'zh' ? zhTitle : enTitle;
            }

            document.querySelectorAll('[data-text-zh]').forEach(node => {
                const zh = node.getAttribute('data-text-zh');
                const en = node.getAttribute('data-text-en');
                if (lang === 'zh' && zh) {
                    node.textContent = zh;
                } else if (en) {
                    node.textContent = en;
                }
            });

            try {
                localStorage.setItem('insight-lang', lang);
            } catch (error) {
                // ignore
            }
        }

        langButtons.forEach(btn => {
            btn.addEventListener('click', () => switchLanguage(btn.dataset.lang));
        });

        const params = new URLSearchParams(window.location.search);
        const paramLang = params.get('lang');
        const saved = (() => {
            try {
                return localStorage.getItem('insight-lang');
            } catch (error) {
                return null;
            }
        })();

        if (paramLang === 'en' || paramLang === 'zh') {
            switchLanguage(paramLang);
        } else if (saved === 'en' || saved === 'zh') {
            switchLanguage(saved);
        }
    </script>
</body>
</html>
